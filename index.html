<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret Valentine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Caveat:wght@400;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        body {
            overflow-x: hidden;
        }
        
        /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∞–Ω–∏–º–∞—Ü–∏—è */
        .bg-purple-gradient {
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4c1d95);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        /* –ì–æ–ª—É–±–æ–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∞–Ω–∏–º–∞—Ü–∏—è */
        .bg-blue-gradient {
            background: linear-gradient(-45deg, #89f7fe, #66a6ff, #a8edea, #4facfe);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* –ü–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ */
        .falling-heart {
            position: absolute;
            top: -50px;
            animation: fall linear infinite;
            opacity: 0.8;
            pointer-events: none;
            z-index: 1;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
        
        /* –®—Ä–∏—Ñ—Ç—ã */
        .font-romantic {
            font-family: 'Great Vibes', cursive;
        }
        .font-cute {
            font-family: 'Pacifico', cursive;
        }
        .font-handwritten {
            font-family: 'Caveat', cursive;
        }
        
        /* –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ */
        .runaway-btn {
            transition: all 0.3s ease;
            position: relative;
        }
        
        /* –ü—É–ª—å—Å–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ */
        .pulse-text {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.05); }
        }
        
        /* –ü–æ—è–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ */
        .photo-appear {
            animation: photoIn 1s ease-out forwards;
        }
        
        @keyframes photoIn {
            0% { opacity: 0; transform: translateY(30px) scale(0.9); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        /* –°–≤–µ—á–µ–Ω–∏–µ –¥–ª—è —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–π —Ç–µ–º—ã */
        .glow-purple {
            text-shadow: 0 0 20px rgba(139, 92, 246, 0.8), 0 0 40px rgba(139, 92, 246, 0.4);
        }
        
        /* –°–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –≥–æ–ª—É–±–æ–π —Ç–µ–º—ã */
        .glow-blue {
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 40px rgba(59, 130, 246, 0.4);
        }
        
        /* Sparkle animation */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 3s linear infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        /* –§–æ—Ç–æ —Ä–∞–º–∫–∏ - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ */
        .photo-frame {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: transform 0.3s ease;
            flex-shrink: 0;
            overflow: hidden;
        }
        .photo-frame:hover {
            transform: scale(1.05) rotate(2deg);
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ–æ—Ç–æ - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –∫—Ä—É–ø–Ω—ã–µ */
        @media (max-width: 768px) {
            .photo-frame {
                width: 46% !important;
                max-width: 270px !important;
                min-width: 240px !important;
            }
            .photo-frame img {
                height: 330px !important; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ/–≤—ã—Å–æ–∫–∏–µ —Ñ–æ—Ç–æ */
                width: 100% !important;
                object-fit: cover;
            }
        }
        
        .hidden-section {
            display: none !important;
        }

        .visible-section {
            display: flex !important;
        }
        
        /* –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ */
        #tempMessageSection {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-900 text-white font-sans antialiased">

    <!-- Login Screen -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4 bg-gray-900">
        <div class="bg-white/10 backdrop-blur-lg rounded-3xl p-8 max-w-md w-full border border-white/20 shadow-2xl">
            <div class="text-center mb-8">
                <i data-lucide="heart" class="w-16 h-16 mx-auto text-pink-500 mb-4"></i>
                <h2 class="text-2xl font-bold text-white mb-2">–í–≤–µ–¥–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥</h2>
                <p class="text-gray-400 text-sm">–£ —Ç–µ–±—è –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–¥? üíù</p>
            </div>
            
            <div class="space-y-4">
                <input type="text" id="codeInput" placeholder="–í–≤–µ–¥–∏ –∫–æ–¥ –∑–¥–µ—Å—å..." 
                    class="w-full px-6 py-4 rounded-2xl bg-white/20 border border-white/30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500 text-center text-lg uppercase tracking-wider">
                
                <button onclick="checkCode()" 
                    class="w-full py-4 bg-gradient-to-r from-pink-500 to-purple-600 rounded-2xl font-bold text-white hover:from-pink-600 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg">
                    –û—Ç–∫—Ä—ã—Ç—å üíå
                </button>
            </div>
            
            <p id="errorMsg" class="text-red-400 text-center mt-4 hidden text-sm">–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥! –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑...</p>
        </div>
    </div>

    <!-- Valentine Screen -->
    <div id="valentineScreen" class="hidden-section min-h-screen relative overflow-hidden">
        <!-- Container for falling hearts -->
        <div id="heartsContainer" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- Sparkles container -->
        <div id="sparklesContainer" class="absolute inset-0 pointer-events-none"></div>
        
        <!-- Main Content -->
        <div class="relative z-10 min-h-screen flex flex-col items-center justify-center p-4">
            
            <!-- Question Section -->
            <div id="questionSection" class="text-center max-w-2xl w-full">
                <div class="mb-8">
                    <i data-lucide="heart" class="w-12 h-12 mx-auto mb-4 text-white/80 animate-bounce"></i>
                </div>
                
                <h1 id="mainQuestion" class="text-4xl md:text-7xl font-romantic text-white mb-8 md:mb-12 pulse-text leading-tight px-4">
                    <!-- –¢–µ–∫—Å—Ç –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ JS -->
                </h1>
                
                <div class="flex flex-row justify-center gap-3 md:gap-8 flex-nowrap relative px-2" style="min-height: 80px;">
                    <button id="yesBtn" onclick="sayYes()" 
                        class="px-6 md:px-8 py-3 md:py-4 bg-white text-gray-900 rounded-full font-bold text-lg md:text-xl hover:bg-gray-100 transition-all transform hover:scale-110 shadow-2xl min-w-[100px] md:min-w-[120px]">
                        –î–∞ ‚ù§Ô∏è
                    </button>
                    
                    <button id="noBtn" onmouseover="runAway()" ontouchstart="runAway(event)"
                        class="runaway-btn px-6 md:px-8 py-3 md:py-4 bg-white/20 backdrop-blur text-white rounded-full font-bold text-lg md:text-xl border-2 border-white/50 hover:bg-white/30 transition-all min-w-[100px] md:min-w-[120px] relative">
                        –ù–µ—Ç üíî
                    </button>
                </div>
            </div>
            
            <!-- Temporary Message Section (–í–ù–ï successSection!) -->
            <div id="tempMessageSection" class="hidden-section flex-col items-center justify-center text-center w-full max-w-4xl px-4" style="min-height: 50vh;">
                <div class="text-8xl md:text-9xl mb-6 md:mb-8 animate-bounce">
                    üòÇü´µüèªü´µüèª
                </div>
                <h2 class="text-5xl md:text-7xl font-bold text-white glow-purple">
                    –•–ê–•–ê, —Ç—ã —Å–µ—Ä—å–µ–∑–Ω–æ –¥—É–º–∞–ª–∞,<br>—á—Ç–æ —è —Ç–µ–±–µ –¥–∞–º —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å?
                </h2>
            </div>
            
            <!-- Success Section (Hidden initially) -->
            <div id="successSection" class="hidden-section flex-col items-center text-center w-full max-w-4xl px-4">
                <h2 id="successText" class="text-3xl md:text-6xl font-romantic text-white mb-6 md:mb-8 glow-purple animate-bounce leading-tight">
                    –£—Ä–∞! –¢—ã –º–æ—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞! üíï
                </h2>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ–æ—Ç–æ - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –±–æ–∫ –æ –±–æ–∫ -->
                <div class="flex flex-row flex-nowrap gap-2 md:gap-6 justify-center items-center w-full mb-6 md:mb-8 px-2 overflow-visible">
                    <div class="photo-frame bg-white p-2 md:p-3 rounded-xl md:rounded-2xl transform -rotate-2 md:-rotate-3 w-[46%] md:w-auto md:max-w-sm opacity-0 flex-shrink-0">
                        <img src="111.jpg" alt="Photo 1" class="w-full h-64 md:h-80 object-cover rounded-lg md:rounded-xl">
                    </div>
                    <div class="photo-frame bg-white p-2 md:p-3 rounded-xl md:rounded-2xl transform rotate-2 md:rotate-3 w-[46%] md:w-auto md:max-w-sm opacity-0 flex-shrink-0">
                        <img src="222.jpg" alt="Photo 2" class="w-full h-64 md:h-80 object-cover rounded-lg md:rounded-xl">
                    </div>
                </div>

                <div class="bg-white/20 backdrop-blur-md rounded-3xl p-5 md:p-8 max-w-lg border border-white/30 mx-2">
                    <p class="text-lg md:text-2xl font-handwritten text-white leading-relaxed">
                        –û–ü–ê! <br>
                        –û–ü–ê! üåü<br>
                        –û–ü–ê–ê–ê–ê–ê! üíñ
                    </p>
                </div>
                
                <button onclick="reset()" class="mt-6 md:mt-8 text-white/80 hover:text-white underline font-handwritten text-lg">
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥
                </button>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∫–æ–Ω–æ–∫
        lucide.createIcons();
        let noClickCount = 0;
        let tempMessageTimer = null;
        let currentTheme = '';
        
        const correctCodes = {
            'RUZZ': 'blue',
            'DICH': 'purple'
        };
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–∏—Ö —Å–µ—Ä–¥–µ—á–µ–∫
        function createHearts(theme) {
            const container = document.getElementById('heartsContainer');
            container.innerHTML = '';
            const heartColors = theme === 'purple' 
                ? ['üíú', 'üíó', 'ü©∑', 'üíñ'] 
                : ['üíô', 'ü©µ', 'ü§ç', 'üí†'];
            
            // –°–æ–∑–¥–∞–µ–º 40 —Å–µ—Ä–¥–µ—á–µ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö —á—Ç–æ–±—ã –Ω–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å
            for (let i = 0; i < 40; i++) {
                const heart = document.createElement('div');
                heart.className = 'falling-heart text-2xl md:text-4xl';
                heart.textContent = heartColors[Math.floor(Math.random() * heartColors.length)];
                
                // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º (0-100%)
                const column = (i % 10) * 10 + Math.random() * 8; // 0, 10, 20... + random
                heart.style.left = column + '%';
                
                // –†–∞–∑–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∑–∞–¥–µ—Ä–∂–∫–∞
                const duration = 8 + Math.random() * 10;
                const delay = Math.random() * 15;
                heart.style.animationDuration = duration + 's';
                heart.style.animationDelay = delay + 's';
                
                // –†–∞–∑–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                const scale = 0.5 + Math.random() * 1;
                heart.style.transform = `scale(${scale})`;
                
                container.appendChild(heart);
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫—Ä/–∑–≤–µ–∑–¥–æ—á–µ–∫
        function createSparkles() {
            const container = document.getElementById('sparklesContainer');
            container.innerHTML = '';
            for (let i = 0; i < 20; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(sparkle);
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
        function checkCode() {
            const input = document.getElementById('codeInput').value.toUpperCase().trim();
            const errorMsg = document.getElementById('errorMsg');
            
            if (correctCodes[input]) {
                currentTheme = correctCodes[input];
                showValentineScreen(currentTheme);
                errorMsg.classList.add('hidden');
            } else {
                errorMsg.classList.remove('hidden');
                document.getElementById('codeInput').classList.add('border-red-500');
                setTimeout(() => {
                    document.getElementById('codeInput').classList.remove('border-red-500');
                }, 1000);
            }
        }
        
        // Enter key support
        document.getElementById('codeInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkCode();
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∏
        function showValentineScreen(theme) {
            document.getElementById('loginScreen').classList.add('hidden');
            const screen = document.getElementById('valentineScreen');
            screen.classList.remove('hidden-section');
            
            const question = document.getElementById('mainQuestion');
            const yesBtn = document.getElementById('yesBtn');
            const successText = document.getElementById('successText');
            const questionSection = document.getElementById('questionSection');
            const successSection = document.getElementById('successSection');
            
            if (theme === 'purple') {
                // –§–∏–æ–ª–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞ –¥–ª—è Dich
                screen.className = 'min-h-screen relative overflow-hidden bg-purple-gradient';
                question.textContent = '–î–∏—á, —Å—Ç–∞–Ω–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?';
                question.classList.add('glow-purple');
                yesBtn.className = 'px-6 md:px-8 py-3 md:py-4 bg-purple-600 text-white rounded-full font-bold text-lg md:text-xl hover:bg-purple-700 transition-all transform hover:scale-110 shadow-2xl min-w-[100px] md:min-w-[120px] border-2 border-purple-300';
                successText.className = 'text-3xl md:text-6xl font-romantic text-white mb-6 md:mb-8 glow-purple animate-bounce leading-tight';
            } else {
                // –ì–æ–ª—É–±–∞—è —Ç–µ–º–∞ –¥–ª—è Ruzz
                screen.className = 'min-h-screen relative overflow-hidden bg-blue-gradient';
                question.textContent = '–†—É–∑–∏–∫, —Å—Ç–∞–Ω–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?';
                question.classList.add('glow-blue');
                yesBtn.className = 'px-6 md:px-8 py-3 md:py-4 bg-blue-500 text-white rounded-full font-bold text-lg md:text-xl hover:bg-blue-600 transition-all transform hover:scale-110 shadow-2xl min-w-[100px] md:min-w-[120px] border-2 border-blue-300';
                successText.className = 'text-3xl md:text-6xl font-romantic text-white mb-6 md:mb-8 glow-blue animate-bounce leading-tight';
            }
            
            createHearts(theme);
            createSparkles();
            
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
            questionSection.classList.remove('hidden-section');
            successSection.classList.add('hidden-section');
            successSection.classList.remove('visible-section');
            
            // –°–±—Ä–æ—Å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
            const tempSection = document.getElementById('tempMessageSection');
            tempSection.classList.add('hidden-section');
            tempSection.classList.remove('visible-section');
            
            // –°–±—Ä–æ—Å –∫–Ω–æ–ø–∫–∏ "–ù–µ—Ç"
            const noBtn = document.getElementById('noBtn');
            noBtn.style.display = 'block';
            noBtn.style.position = 'relative';
            noBtn.style.left = '0';
            noBtn.style.top = '0';
            noBtn.style.transform = 'none';
            
            // –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞
            noClickCount = 0;
            if (tempMessageTimer) {
                clearTimeout(tempMessageTimer);
                tempMessageTimer = null;
            }
        }
        
        // –£–±–µ–≥–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞
        function runAway(event) {
            if (event) event.preventDefault();
            
            noClickCount++;
            console.log('No click count:', noClickCount); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
            
            // –ï—Å–ª–∏ –Ω–∞–∂–∞–ª–∏/–Ω–∞–≤–µ–ª–∏ —Ç—Ä–µ—Ç–∏–π —Ä–∞–∑
            if (noClickCount >= 3) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                showTempMessage();
                return;
            }
            
            const btn = document.getElementById('noBtn');
            const rect = btn.getBoundingClientRect();
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            
            // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é (—É—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–∫–∏)
            const btnWidth = rect.width;
            const btnHeight = rect.height;
            
            let newX, newY;
            let attempts = 0;
            
            do {
                newX = Math.random() * (windowWidth - btnWidth - 40) + 20;
                newY = Math.random() * (windowHeight - btnHeight - 40) + 20;
                attempts++;
            } while (attempts < 10 && isNearCenter(newX, newY, windowWidth, windowHeight, btnWidth, btnHeight));
            
            btn.style.position = 'fixed';
            btn.style.left = newX + 'px';
            btn.style.top = newY + 'px';
            btn.style.zIndex = '50';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç —É—Ö–æ–¥–∞
            btn.style.transform = `rotate(${Math.random() * 20 - 10}deg)`;
        }

        function showTempMessage() {
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä –µ—Å–ª–∏ –±—ã–ª
            if (tempMessageTimer) {
                clearTimeout(tempMessageTimer);
            }
            
            // –ü–æ–ª—É—á–∞–µ–º —Å–µ–∫—Ü–∏–∏
            const questionSection = document.getElementById('questionSection');
            const tempSection = document.getElementById('tempMessageSection');
            const noBtn = document.getElementById('noBtn');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            questionSection.classList.add('hidden-section');
            tempSection.classList.remove('hidden-section');
            tempSection.classList.add('visible-section', 'flex');
            
            // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤–æ–ø—Ä–æ—Å –∏ —É–±–∏—Ä–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç"
            tempMessageTimer = setTimeout(() => {
                // –°–∫—Ä—ã–≤–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                tempSection.classList.add('hidden-section');
                tempSection.classList.remove('visible-section');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å
                questionSection.classList.remove('hidden-section');
                
                // –ù–∞–≤—Å–µ–≥–¥–∞ —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç"
                noBtn.style.display = 'none';
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
                noClickCount = 0;
                
                // –û—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä
                tempMessageTimer = null;
            }, 3000); // 3000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ = 3 —Å–µ–∫—É–Ω–¥—ã
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –ª–∏ –∫–Ω–æ–ø–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä (–≥–¥–µ –∫–Ω–æ–ø–∫–∞ "–î–∞")
        function isNearCenter(x, y, w, h, btnW, btnH) {
            const centerX = w / 2;
            const centerY = h / 2;
            const btnCenterX = x + btnW / 2;
            const btnCenterY = y + btnH / 2;
            return (Math.abs(btnCenterX - centerX) < 150 && Math.abs(btnCenterY - centerY) < 100);
        }
        
        // –ù–∞–∂–∞—Ç–∏–µ "–î–∞"
        function sayYes() {
            const questionSection = document.getElementById('questionSection');
            const successSection = document.getElementById('successSection');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
            questionSection.classList.add('hidden-section');
            successSection.classList.remove('hidden-section');
            successSection.classList.add('visible-section');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–æ—Ç–æ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
            const photos = document.querySelectorAll('.photo-frame');
            photos.forEach((photo, index) => {
                setTimeout(() => {
                    photo.classList.add('photo-appear');
                }, index * 200 + 100);
            });
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∞–ª—é—Ç —Å —Å–µ—Ä–¥–µ—á–∫–∞–º–∏ –∏ –∑–≤–µ–∑–¥–æ—á–∫–∞–º–∏
            setTimeout(() => {
                launchConfetti();
                
                // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ª–ø—ã —Å–∞–ª—é—Ç–∞
                let count = 0;
                const interval = setInterval(() => {
                    launchConfetti();
                    count++;
                    if (count > 4) clearInterval(interval);
                }, 800);
            }, 300);
        }
        
        // –°–∞–ª—é—Ç —Å —Å–µ—Ä–¥–µ—á–∫–∞–º–∏ –∏ –∑–≤–µ–∑–¥–æ—á–∫–∞–º–∏
        function launchConfetti() {
            const isPurple = currentTheme === 'purple';
            const colors = isPurple 
                ? ['#a855f7', '#c084fc', '#e9d5ff', '#f0abfc', '#ffffff']
                : ['#3b82f6', '#60a5fa', '#93c5fd', '#bfdbfe', '#ffffff'];
            
            // –õ–µ–≤—ã–π –∑–∞–ª–ø
            confetti({
                particleCount: 60,
                spread: 80,
                origin: { x: 0.2, y: 0.6 },
                colors: colors,
                shapes: ['circle', 'square'],
                scalar: 1.2,
                gravity: 0.8,
                drift: 0
            });
            
            // –ü—Ä–∞–≤—ã–π –∑–∞–ª–ø
            confetti({
                particleCount: 60,
                spread: 80,
                origin: { x: 0.8, y: 0.6 },
                colors: colors,
                shapes: ['circle', 'square'],
                scalar: 1.2,
                gravity: 0.8,
                drift: 0
            });
            
            // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∑–∞–ª–ø (–≤—ã—à–µ)
            setTimeout(() => {
                confetti({
                    particleCount: 100,
                    spread: 120,
                    origin: { x: 0.5, y: 0.4 },
                    colors: colors,
                    shapes: ['circle', 'square'],
                    scalar: 1.5,
                    gravity: 0.6,
                    ticks: 200
                });
            }, 200);
        }
        
        // –°–±—Ä–æ—Å –∫ –Ω–∞—á–∞–ª—É
        function reset() {
            document.getElementById('valentineScreen').classList.add('hidden-section');
            document.getElementById('valentineScreen').classList.remove('visible-section');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('codeInput').value = '';
            
            const successSection = document.getElementById('successSection');
            successSection.classList.add('hidden-section');
            successSection.classList.remove('visible-section');
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –≤–∏—Å–∏—Ç
            const tempSection = document.getElementById('tempMessageSection');
            tempSection.classList.add('hidden-section');
            tempSection.classList.remove('visible-section');
            
            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ç–æ
            document.querySelectorAll('.photo-frame').forEach(p => {
                p.classList.remove('photo-appear');
                p.style.opacity = '0';
            });
            
            // –û—á–∏—Å—Ç–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
            const screen = document.getElementById('valentineScreen');
            screen.className = 'hidden-section min-h-screen relative overflow-hidden';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫, —Ç–∞–π–º–µ—Ä –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–µ—Ç"
            noClickCount = 0;
            if (tempMessageTimer) {
                clearTimeout(tempMessageTimer);
                tempMessageTimer = null;
            }
            
            const noBtn = document.getElementById('noBtn');
            noBtn.style.display = 'block';
            noBtn.style.position = 'relative';
            noBtn.style.left = '0';
            noBtn.style.top = '0';
            noBtn.style.transform = 'none';
        }
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –≤—ã—Ö–æ–¥ –∫–Ω–æ–ø–∫–∏ –∑–∞ —ç–∫—Ä–∞–Ω –ø—Ä–∏ resize
        window.addEventListener('resize', () => {
            const noBtn = document.getElementById('noBtn');
            if (noBtn.style.position === 'fixed') {
                const rect = noBtn.getBoundingClientRect();
                if (rect.right > window.innerWidth) noBtn.style.left = (window.innerWidth - rect.width - 20) + 'px';
                if (rect.bottom > window.innerHeight) noBtn.style.top = (window.innerHeight - rect.height - 20) + 'px';
            }
        });
    </script>
</body>
</html>
